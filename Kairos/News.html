<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="News.css">
    <link rel="stylesheet" href="https://use.typekit.net/ayn0vpn.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Make Your Own</title>
</head>
<body>
    
    <section class="header">
        <div class="topnav">
            <ul>
                <li><a class="#Duplicatehomepage" href="file:///C:/Users/DKhil/OneDrive/Desktop/Kairos/Kairos/Index.html">Home</a></li>
                <li><a href="C:/Users/DKhil/OneDrive/Desktop/Kairos/Kairos/News.html">MYO</a></li> 
                <li><a href="#"><img id="logo" src="cuteowl.gif"></a></li>
                <li><a href="file:///C:/Users/DKhil/OneDrive/Desktop/Kairos/Kairos/About.html">About</a></li>
                <li><a href="file:///C:/Users/DKhil/OneDrive/Desktop/Kairos/Kairos/Order.html">Order</a></li>
            </ul>
        </div>
        
        <div class="container">
            <img src="" class="bird">
        </div>
      <div class="column">
      <section>
        <section>
          <div class="News">
            <h1>Make Your Own</h1>
            <p>Make your own Bento Box, and customise with meals of your choice! Answer the questions below to make your own bento!</p>
        </div>
        </section>

        <section>
          <h1 id="quizQuestion"></h1> 
          <div id="quizContainer">
            <div id="question"></div>
            <div id="choices"></div>
          </div> 
          <div id="userChoicesContainer"></div>
          <div id="quantityInputContainer"></div>
        </section>

        <section>
          <div> 
          <h1>Enter ID</h1>
          <input type="number" id="ID">
          </div>
          <div>
            <h1>Enter Name</h1>
            <input type="text" id="name">
          </div>
          
          <button id="clickButton" > CLICK </button>

          <div>
            <h1>Find User by ID</h1>
            <input type="text" id="findID">
            <button id="findButton">Find User</button>
        </div>
        <div id="output"></div>
        </section>

      <section class="footer">
        <footer> 
          <p>email: karumalil.p@maristcollege.school.nz</p>
          <p>website developer: Divinya Karumalil</p>
          <p>FAQ</p>
        </footer>
      </section>
     
      <script src="News.js"></script>

</body>
<script type="module" >
 


 import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js';
 import { getFirestore, query, collection, setDoc, doc, addDoc, getDocs, where } from 'https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore-lite.js';


  const firebaseConfig = {
      apiKey: "AIzaSyBZ2srrvhRP6t0MTOCnG5M2Ne1LdvB7K18",
      authDomain: "kairos-data-a2bd6.firebaseapp.com",
      projectId: "kairos-data-a2bd6",
      storageBucket: "kairos-data-a2bd6.appspot.com",
      messagingSenderId: "199943965259",
      appId: "1:199943965259:web:eee9ea126f8f4d6af59bce",
      measurementId: "G-HFMWCBTMEE"
  }
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

const clickButton = document.getElementById("clickButton")

clickButton.addEventListener("click", function() {
          const userID = document.getElementById("ID").value
          const name = document.getElementById("name").value
          const choices = "User Choices: " + userChoices.join(", ");
          console.log(userID + name + "User Choices:", userChoices);

          const docRef = addDoc(collection(db, "users"), {
              ID:userID,
              Name:name,
              choices:choices
              
          })
      })

      const findButton = document.getElementById("findButton");

findButton.addEventListener("click", async function() {
    const collectionName = "users"; 
    const fieldName = "ID";
    const queryValue = document.getElementById("findID").value;
    const outputElement = document.getElementById("output");


    const q = query(collection(db, collectionName), where(fieldName, "==", queryValue));

    try {
        const querySnapshot = await getDocs(q);
        
        querySnapshot.forEach((doc) => {
          outputElement.innerHTML = doc.id + " => " + JSON.stringify(doc.data());
            // Do something with the found user data, for example, display it on the page
        });
    } catch (error) {
        console.error("Error fetching documents: ", error);
    }
    
});


</script>

</html>